!function(t){function e(e){for(var r,c,s=e[0],u=e[1],l=e[2],f=0,h=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&h.push(i[c][0]),i[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(a&&a(e);h.length;)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={0:0},o=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var a=u;o.push([116,1]),n()}({116:function(t,e,n){t.exports=n(174)},174:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),o=n(4),c=n.n(o),s=n(2),u=n(29),l=800,a=600,f=8,h=8,d=(n(74),n(131),n(8),n(7),n(9),n(10),n(70)),p=n.n(d),v=(n(90),n(113)),y=n.n(v),_=n(5),g=n.n(_),R=n(1),w=n.n(R),m=n(6),C=n.n(m),S=n(114),E=n.n(S);function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var k=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(P()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;i()(this,r),(t=n.call(this))._progress=new s.g(s.j.WHITE),t._progress.tint=16777215,t._progress.height=10,t._progress.width=0,t.addChild(t._progress);var e=new s.c;return e.lineStyle(2,16777215),e.drawRect(0,0,300,10),t.addChild(e),t}return c()(r,[{key:"setProgress",value:function(t){this._progress.width=Math.floor(300*t)}}]),r}(s.b),D=(n(91),n(49),n(138),n(139),n(140),n(141),n(143),n(144),n(50),n(115)),b=n.n(D);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var O=new(function(){function t(){i()(this,t)}return c()(t,[{key:"load",value:function(){var t=this,e="texture",n=new s.d;return n.add(e,"img/texture.json",void 0,(function(){t._textures=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.resources[e].textures)})),new Promise((function(t){n.load(t)}))}},{key:"texture",value:function(t){return this._textures[t]}}]),t}());function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var F=function(t){C()(o,t);var e,n,r=(e=o,function(){var t,n=w()(e);if(I()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function o(){var t;i()(this,o),t=r.call(this);var e=new s.g(s.j.WHITE);return e.width=l,e.height=a,e.tint=3902651,t.addChild(e),t._progressBar=new k,t._progressBar.position.set(.5*(l-t._progressBar.width),.5*(a-t._progressBar.height)),t.addChild(t._progressBar),t}return c()(o,[{key:"start",value:(n=y()(p.a.mark((function t(){var e=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._progressBar.setProgress(.5),t.next=3,O.load();case 3:E.a.load({custom:{families:["Open Sans"],urls:["fonts/fonts.css"]},active:function(){e._progressBar.setProgress(1),e.emit(o.EVENT_LOADED)}});case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),o}(s.b);F.EVENT_LOADED=Symbol();n(66),n(106),n(108),n(109),n(110),n(28);function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var V=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(j()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t){var e;i()(this,r),e=n.call(this);var o=new s.g(O.texture(t));return o.anchor.set(.5),e.addChild(o),e._selected=!1,e}return c()(r,[{key:"toggleSelected",value:function(){this._selected=!this._selected,this.scale.set(this._selected?1.3:1)}}]),r}(s.b),H={WHEAT:"wheat",CHICKEN:"chicken",COW:"cow"},T=[H.CHICKEN,H.COW],B="onItemSelected",W="onResetSelection",M="onItemSold";function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var G=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(N()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.apply(this,arguments)}return c()(r,[{key:"updateSelection",value:function(t,e){void 0!==t&&this._items.get(t).toggleSelected(),void 0!==e&&this._items.get(e).toggleSelected()}}]),r}(s.b);function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var L=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(A()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;i()(this,r),t=n.call(this);var e=(new s.c).beginFill(14350246).drawRoundedRect(0,0,202,40,10).endFill();return t.addChild(e),t.createItems(),t}return c()(r,[{key:"createItems",value:function(){var t=this;this._items=new Map,Object.values(H).forEach((function(e,n){var r=new V(e);r.x=68*n+33,r.interactive=!0,r.buttonMode=!0,r.on("pointertap",(function(){t.emit(B,e)})),t.addChild(r),t._items.set(e,r)}))}}]),r}(G);function Z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var K=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Z()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t){var e;i()(this,r),e=n.call(this);var o=(new s.c).lineStyle(1).drawRect(0,0,r.SIZE,r.SIZE);return e.addChild(o),e._fieldPosition=t,e.createHighlight(),e.hitArea=new s.f(0,0,r.SIZE,r.SIZE),e}return c()(r,[{key:"createHighlight",value:function(){this._highlight=new s.g(s.j.WHITE),this._highlight.width=r.SIZE,this._highlight.height=r.SIZE,this._highlight.tint=3066944,this._highlight.alpha=.5,this._highlight.visible=!1,this.addChild(this._highlight)}},{key:"highlight",value:function(t){this._highlight.visible=t,this.interactive=t}},{key:"getFieldPosition",value:function(){return this._fieldPosition}},{key:"place",value:function(t){t.position.set(r.SIZE/2,r.SIZE/2),this.addChild(t),this._item=t,this.highlight(!1)}},{key:"eat",value:function(){this._item.eat()}}]),r}(s.b);K.SIZE=45;var U="onCellClicked",z="onItemCollected",$=n(20),J=n.n($),q=n(0);function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var X=new(function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Q()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.apply(this,arguments)}return r}(s.l.EventEmitter)),Y={WHEAT:"wheat_done",EGG:"egg",MILK:"milk"};function tt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var et=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(tt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;return i()(this,r),(t=n.call(this)).onGrew=function(){t._wheat.scale.set(0),t._wheatDone.visible=!0,t.interactive=!0,t.once("pointertap",t.onClicked,J()(t))},t._wheat=new s.g(O.texture("wheat")),t._wheat.anchor.set(.5),t._wheat.scale.set(0),t.addChild(t._wheat),t._wheatDone=new s.g(O.texture("wheat_done")),t._wheatDone.anchor.set(.5),t._wheatDone.visible=!1,t.addChild(t._wheatDone),t.startGrow(),t}return c()(r,[{key:"startGrow",value:function(){u.b.to(this._wheat.scale,{x:1,y:1,ease:q.b.easeOut,duration:r.GROW_TIME,onComplete:this.onGrew})}},{key:"onClicked",value:function(){this._wheatDone.visible=!1,this.interactive=!1,this.startGrow(),X.emit(z,Y.WHEAT)}}]),r}(s.b);et.GROW_TIME=10;var nt=n(33),rt=n.n(nt);function it(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ot=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(it()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t,e){var o;return i()(this,r),(o=n.call(this))._item=new s.g(O.texture(t)),o._item.anchor.set(.5),o.addChild(o._item),o._progress=new s.g(s.j.WHITE),o._progress.width=0,o._progress.height=5,o._progress.tint=16711680,o._progress.position.set(-22,17),o.addChild(o._progress),o._eatingDuration=e,o}return c()(r,[{key:"eat",value:function(){this._currentEatCount=0,this._progress.width=0,u.b.killTweensOf(this._progress),this.startEat()}},{key:"startEat",value:function(){var t=this;u.b.to(this._progress,{width:44,duration:this._eatingDuration,onComplete:function(){t.onEatCompleted()}})}},{key:"onEatCompleted",value:function(){this._currentEatCount+=1,this._progress.width=0}}]),r}(s.b);function ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var st=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(ct()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.call(this,H.CHICKEN,10,3)}return c()(r,[{key:"onEatCompleted",value:function(){rt()(w()(r.prototype),"onEatCompleted",this).call(this),X.emit(z,Y.EGG),this._currentEatCount<3&&this.startEat()}}]),r}(ot);function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var lt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(ut()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.call(this,H.COW,20,1)}return c()(r,[{key:"onEatCompleted",value:function(){rt()(w()(r.prototype),"onEatCompleted",this).call(this),X.emit(z,Y.MILK)}}]),r}(ot),at=function(){function t(){i()(this,t)}return c()(t,null,[{key:"create",value:function(t){var e;switch(t){case H.WHEAT:e=new et;break;case H.CHICKEN:e=new st;break;case H.COW:e=new lt;break;default:throw new Error("".concat(t,"is unsupported!"))}return e}}]),t}();function ft(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ht=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(ft()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;i()(this,r),(t=n.call(this))._cells=[];for(var e=0;e<f;e++){t._cells[e]=[];for(var o=function(n){var r=new K(new s.e(e,n));r.position.set(e*r.width,n*r.height),r.on("pointertap",(function(){t.onCellClicked(r)})),t.addChild(r),t._cells[e].push(r)},c=0;c<h;c++)o(c)}var u=(new s.c).lineStyle(1).beginFill(10642750).drawRect(0,0,t.width+1,t.height+1).endFill();return u.position.set(-1),t.addChildAt(u,0),t}return c()(r,[{key:"highlightCells",value:function(t){var e=this;t.forEach((function(t){var n=t.x,r=t.y;e._cells[n][r].highlight(!0)}))}},{key:"hideHighlightCells",value:function(){for(var t=0;t<f;t++)for(var e=0;e<h;e++)this._cells[t][e].highlight(!1)}},{key:"onCellClicked",value:function(t){this.emit(U,t.getFieldPosition())}},{key:"place",value:function(t,e){var n=t.x,r=t.y,i=at.create(e);this._cells[n][r].place(i)}},{key:"startEating",value:function(t){var e=t.x,n=t.y;this._cells[e][n].eat()}}]),r}(s.b);function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var pt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(dt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;i()(this,r),t=n.call(this);var e=(new s.c).beginFill(16711680).drawCircle(0,0,15).endFill();t.addChild(e);var o=new s.i({fontFamily:"Open Sans",fontSize:14,fill:16777215});return t._value=new s.h("0",o),t._value.anchor.set(.5),t._value.roundPixels=!0,t.addChild(t._value),t._currentValue=0,t}return c()(r,[{key:"add",value:function(t){this._currentValue+=t,this._value.text=this._currentValue.toString()}},{key:"getCurrent",value:function(){return this._currentValue}}]),r}(s.b);function vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var yt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(vt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t){var e;return i()(this,r),(e=n.call(this))._icon=new s.g(O.texture(t)),e._icon.anchor.set(.5),e.addChild(e._icon),e._value=new pt,e._value.position.set(20,-20),e.addChild(e._value),e._selected=!1,e}return c()(r,[{key:"addValue",value:function(t){this._value.add(t)}},{key:"toggleSelected",value:function(){this._selected=!this._selected,this._icon.scale.set(this._selected?1.3:1)}}]),r}(s.b);function _t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var gt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(_t()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.call(this,Y.WHEAT)}return c()(r,[{key:"addValue",value:function(t){this._value.add(t),this._value.getCurrent()>0?(this.interactive=!0,this.buttonMode=!0):(this.emit(r.EVENT_RESOURCE_ENDED),this.toggleSelected(),this.interactive=!1)}}]),r}(yt);function Rt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}gt.EVENT_RESOURCE_ENDED="onResourceEnded";var wt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Rt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t){var e;i()(this,r),(e=n.call(this))._states=[],e._states[r.states.UP]=e.createBgState(9290758),e._states[r.states.DOWN]=e.createBgState(7050497),e._states[r.states.OVER]=e.createBgState(12574588),e._states[r.states.OFF]=e.createBgState(10066329);var o=new s.i({fontFamily:"Open Sans",fontSize:14,fill:16777215}),c=new s.h("$ ".concat(t),o);return c.roundPixels=!0,c.anchor.set(.5),c.position.set(25,10),e.addChild(c),e.buttonMode=!0,e.on("pointerover",(function(){e.setState(r.states.OVER)})),e.on("pointerdown",(function(){e.setState(r.states.DOWN)})),e.on("pointerup",(function(){e.setState(r.states.UP)})),e.on("pointerout",(function(){e.setState(r.states.UP)})),e.setState(r.states.OFF),e}return c()(r,[{key:"createBgState",value:function(t){var e=(new s.c).beginFill(t).drawRoundedRect(0,0,50,20,10).endFill();return this.addChild(e),e.visible=!1,e}},{key:"setState",value:function(t){this._currentState!==t&&(void 0!==this._currentState&&(this._states[this._currentState].visible=!1),this._states[t].visible=!0,this._currentState=t)}},{key:"setEnabled",value:function(t){this.interactive!==t&&(this.setState(t?r.states.UP:r.states.OFF),this.interactive=t)}}]),r}(s.b);function mt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}wt.states={UP:0,DOWN:1,OVER:2,OFF:3};var Ct=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(mt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t,e){var o;return i()(this,r),(o=n.call(this,t))._cost=e,o._sellButton=new wt(e),o.addChild(o._sellButton),o._sellButton.position.set(-Math.round(o._sellButton.width/2),15),o._sellButton.on("pointertap",o.sell,J()(o)),o}return c()(r,[{key:"addValue",value:function(t){rt()(w()(r.prototype),"addValue",this).call(this,t),this._sellButton.setEnabled(this._value.getCurrent()>0)}},{key:"sell",value:function(){this.addValue(-1),X.emit(M,this._cost)}}]),r}(yt);function St(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Et=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(St()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.call(this,Y.MILK,100)}return r}(Ct);function Pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var kt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Pt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){return i()(this,r),n.call(this,Y.EGG,10)}return r}(Ct),Dt=function(){function t(){i()(this,t)}return c()(t,null,[{key:"create",value:function(t){var e;switch(t){case Y.WHEAT:e=new gt;break;case Y.MILK:e=new Et;break;case Y.EGG:e=new kt;break;default:throw new Error("".concat(t,"is unsupported!"))}return e}}]),t}();function bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var xt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(bt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;return i()(this,r),(t=n.call(this))._items=new Map,Object.values(Y).forEach((function(e,n){var r=Dt.create(e);r.on("pointertap",(function(){t.emit(B,e)})),e===Y.WHEAT&&r.on(gt.EVENT_RESOURCE_ENDED,(function(){t.emit(W)})),t._items.set(e,r),r.y=80*n,t.addChild(r)})),t}return c()(r,[{key:"addItemValue",value:function(t,e){if(!this._items.has(t))throw new Error("".concat(t," is not supported"));this._items.get(t).addValue(e)}}]),r}(G);function Ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var It=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Ot()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;i()(this,r),t=n.call(this);var e=new s.i({fontFamily:"Open Sans",fontSize:20,fill:255});return t._text=new s.h("$ 0",e),t._text.roundPixels=!0,t._text.anchor.x=.5,t.addChild(t._text),t._current=0,X.on(M,t.onItemSold,J()(t)),t}return c()(r,[{key:"onItemSold",value:function(t){this._current+=t,this._text.text="$ ".concat(this._current)}}]),r}(s.b);function Ft(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var jt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Ft()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(){var t;i()(this,r),t=n.call(this);var e=new s.g(s.j.WHITE);return e.tint=12832738,e.width=l,e.height=a,t.addChild(e),t.createField(),t.createControlPanel(),t.createResourcesPanel(),t.createMoneyPanel(),t}return c()(r,[{key:"createField",value:function(){this._field=new ht,this.addChild(this._field),this._field.position.set(.5*(l-this._field.width),.5*(a-this._field.height))}},{key:"createControlPanel",value:function(){this._controlPanel=new L,this._controlPanel.position.set(.5*(l-this._controlPanel.width),a-30),this.addChild(this._controlPanel)}},{key:"createResourcesPanel",value:function(){this._resourcesPanel=new xt,this._resourcesPanel.position.set(760,200),this.addChild(this._resourcesPanel)}},{key:"createMoneyPanel",value:function(){var t=new It;t.position.set(.5*l,30),this.addChild(t)}},{key:"getField",value:function(){return this._field}},{key:"getControlPanel",value:function(){return this._controlPanel}},{key:"getResourcesPanel",value:function(){return this._resourcesPanel}}]),r}(s.b),Vt=(n(166),n(167),n(168),n(169),function(){function t(e){i()(this,t),this._position=e,this._isEmpty=!0}return c()(t,[{key:"isEmpty",value:function(){return this._isEmpty}},{key:"getPosition",value:function(){return this._position}},{key:"place",value:function(t){this._item=t,this._isEmpty=!1}},{key:"canEat",value:function(){return this._item&&T.includes(this._item)}}]),t}()),Ht=function(){function t(){i()(this,t),this._cells=[];for(var e=0;e<f;e++)for(var n=0;n<h;n++){var r=new Vt(new s.e(e,n));this._cells.push(r)}}return c()(t,[{key:"getEmptyPositions",value:function(){return this._cells.filter((function(t){return t.isEmpty()})).map((function(t){return t.getPosition()}))}},{key:"place",value:function(t,e){var n=t.x,r=t.y,i=this.getCellByPosition(n,r);i&&i.place(e)}},{key:"getCellsCanEat",value:function(){return this._cells.filter((function(t){return t.canEat()})).map((function(t){return t.getPosition()}))}},{key:"getCellByPosition",value:function(t,e){return this._cells.find((function(n){var r=n.getPosition(),i=r.x,o=r.y;return i===t&&o===e}))}}]),t}();function Tt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Bt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Tt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t,e){var o;return i()(this,r),(o=n.call(this))._model=t,o._view=e,o._view.on(U,o.onCellClicked,J()(o)),o}return c()(r,[{key:"showEmptyCells",value:function(){var t=this._model.getEmptyPositions();t.length>0&&this._view.highlightCells(t)}},{key:"showCanEatCells",value:function(){var t=this._model.getCellsCanEat();t.length>0&&this._view.highlightCells(t)}},{key:"hideCellsHighlight",value:function(){this._view.hideHighlightCells()}},{key:"onCellClicked",value:function(t){this._clickedPosition=t,this.emit(U)}},{key:"placeItem",value:function(t){this._model.place(this._clickedPosition,t),this._view.place(this._clickedPosition,t),this._clickedPosition=void 0}},{key:"startEating",value:function(){this._view.startEating(this._clickedPosition)}}]),r}(s.l.EventEmitter);function Wt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Mt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Wt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t,e){var o;return i()(this,r),(o=n.call(this))._model=t,o._view=e,e.on(B,o.onItemSelected,J()(o)),o}return c()(r,[{key:"onItemSelected",value:function(t){var e=this._model.getSelected(),n=!1;e===t?(this._model.resetSelected(),n=!0):this._model.setSelected(t),this._view.updateSelection(e,this._model.getSelected()),this.emit(n?W:B)}},{key:"resetSelected",value:function(){this._view.updateSelection(this._model.getSelected(),void 0),this._model.resetSelected()}},{key:"getSelected",value:function(){return this._model.getSelected()}},{key:"hasSelected",value:function(){return void 0!==this._model.getSelected()}}]),r}(s.l.EventEmitter);function Nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Gt=function(t){C()(r,t);var e,n=(e=r,function(){var t,n=w()(e);if(Nt()){var r=w()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return g()(this,t)});function r(t,e){var o;return i()(this,r),o=n.call(this,t,e),e.on(W,(function(){o.emit(W)})),o}return c()(r,[{key:"addItemValue",value:function(t,e){this._view.addItemValue(t,e)}},{key:"decreaseItemValue",value:function(t){this._view.addItemValue(t,-1)}}]),r}(Mt),At=function(){function t(){i()(this,t)}return c()(t,[{key:"setSelected",value:function(t){this._selected=t}},{key:"getSelected",value:function(){return this._selected}},{key:"resetSelected",value:function(){this._selected=void 0}}]),t}(),Lt=function(){function t(e){i()(this,t),this._view=e,this._controlPanelController=new Mt(new At,this._view.getControlPanel()),this._controlPanelController.on(B,this.onControlPanelItemSelected,this),this._controlPanelController.on(W,this.onPanelReset,this),this._fieldController=new Bt(new Ht,this._view.getField()),this._fieldController.on(U,this.onFieldCellClicked,this),this._resourcesPanelController=new Gt(new At,this._view.getResourcesPanel()),this._resourcesPanelController.on(B,this.onResourcePanelItemSelected,this),this._resourcesPanelController.on(W,this.onPanelReset,this),X.on(z,this.onFieldItemCollected,this)}return c()(t,[{key:"onControlPanelItemSelected",value:function(){this._resourcesPanelController.resetSelected(),this._fieldController.hideCellsHighlight(),this._fieldController.showEmptyCells()}},{key:"onPanelReset",value:function(){this._fieldController.hideCellsHighlight()}},{key:"onResourcePanelItemSelected",value:function(){this._controlPanelController.resetSelected(),this._fieldController.hideCellsHighlight(),this._fieldController.showCanEatCells()}},{key:"onFieldCellClicked",value:function(){this._controlPanelController.hasSelected()?this._fieldController.placeItem(this._controlPanelController.getSelected()):this._resourcesPanelController.hasSelected()&&(this._resourcesPanelController.addItemValue(this._resourcesPanelController.getSelected(),-1),this._fieldController.startEating())}},{key:"onFieldItemCollected",value:function(t){this._resourcesPanelController.addItemValue(t,1)}}]),t}(),Zt=function(){function t(){var e=this;i()(this,t),this._app=new s.a({width:l,height:a,backgroundColor:0,view:document.getElementById("game")}),s.k.shared.autoStart=!1,this._app.ticker.stop(),u.a.ticker.add((function(){e._app.ticker.update()})),this._app.view.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.startLoading()}return c()(t,[{key:"startLoading",value:function(){this._preloader=new F,this._app.stage.addChild(this._preloader),this._preloader.on(F.EVENT_LOADED,this.onLoaded,this),this._preloader.start()}},{key:"onLoaded",value:function(){this._app.stage.removeChild(this._preloader);var t=new jt;this._app.stage.addChild(t),new Lt(t)}}]),t}();window.onload=function(){new Zt}}});